Ns3Env parameters:
--simulationTime: 60
--openGymPort: 5849
--envStepTime: 0.05
--seed: 100
--testArg: 0
--adj_mat_file_name: /home/tdasilva/PRISMA-master/prisma/examples/abilene/adjacency_matrix.txt
--node_coordinates_file_name: /home/tdasilva/PRISMA-master/prisma/examples/abilene/node_coordinates.txt
--node_intensity_file_name: /home/tdasilva/PRISMA-master/prisma/examples/abilene/traffic_matrices/node_intensity_normalized_0.txt
--LinkDelay: 1ms
--MaxBufferLength: 16260B
--load_factor: 0.4
--linkFailureTime: 25
Creating link between switch nodes
12     11    1     0
14     13    2     0
16     15    3     0
18     17    4     1
20     19    5     1
22     21    4     2
24     23    6     2
26     25    7     3
28     27    8     4
30     29    9     5
32     31    7     6
34     33    9     8
36     35    10     8
38     37    10     9
Size switch_nd :39
Configuration of time based alert
Simulation start
Node: 0, GetObservationSpace:  BoxSpace Low: 0 High: 100000 Shape: (4,) Dtype: uint32_t
Node: 0, GetActionSpace:  DiscreteSpace N: 3
Simulation process id: 45690 (parent (waf shell) id: 45647)
Waiting for Python process to connect on port: tcp://localhost:5849
Please start proper Python Gym Agent
/usr/local/lib/python3.8/dist-packages/networkx/convert_matrix.py:686: DeprecationWarning: from_numpy_matrix is deprecated and will be removed in NetworkX 3.0.
Use from_numpy_array instead, e.g. from_numpy_array(A, **kwargs)
  warnings.warn(
WARNING:tensorflow:SavedModel saved prior to TF 2.5 detected when loading Keras model. Please ensure that you are saving the model with model.save() or tf.keras.models.save_model(), *NOT* tf.saved_model.save(). To confirm, there should be a file named "keras_metadata.pb" in the SavedModel directory.
Node: 1, GetObservationSpace:  BoxSpace Low: 0 High: 100000 Shape: (4,) Dtype: uint32_t
Node: 1, GetActionSpace:  DiscreteSpace N: 3
Simulation process id: 45690 (parent (waf shell) id: 45647)
Waiting for Python process to connect on port: tcp://localhost:5850
Please start proper Python Gym Agent
/usr/local/lib/python3.8/dist-packages/keras/layers/core/lambda_layer.py:303: UserWarning: models is not loaded, but a Lambda layer uses it. It may cause errors.
  function = cls._parse_function_from_config(config, custom_objects,
WARNING:tensorflow:SavedModel saved prior to TF 2.5 detected when loading Keras model. Please ensure that you are saving the model with model.save() or tf.keras.models.save_model(), *NOT* tf.saved_model.save(). To confirm, there should be a file named "keras_metadata.pb" in the SavedModel directory.
Node: 2, GetObservationSpace:  BoxSpace Low: 0 High: 100000 Shape: (4,) Dtype: uint32_t
Node: 2, GetActionSpace:  DiscreteSpace N: 3
Simulation process id: 45690 (parent (waf shell) id: 45647)
Waiting for Python process to connect on port: tcp://localhost:5851
Please start proper Python Gym Agent
WARNING:tensorflow:SavedModel saved prior to TF 2.5 detected when loading Keras model. Please ensure that you are saving the model with model.save() or tf.keras.models.save_model(), *NOT* tf.saved_model.save(). To confirm, there should be a file named "keras_metadata.pb" in the SavedModel directory.
Node: 3, GetObservationSpace:  BoxSpace Low: 0 High: 100000 Shape: (3,) Dtype: uint32_t
Node: 3, GetActionSpace:  DiscreteSpace N: 2
Simulation process id: 45690 (parent (waf shell) id: 45647)
Waiting for Python process to connect on port: tcp://localhost:5852
Please start proper Python Gym Agent
WARNING:tensorflow:SavedModel saved prior to TF 2.5 detected when loading Keras model. Please ensure that you are saving the model with model.save() or tf.keras.models.save_model(), *NOT* tf.saved_model.save(). To confirm, there should be a file named "keras_metadata.pb" in the SavedModel directory.
Node: 4, GetObservationSpace:  BoxSpace Low: 0 High: 100000 Shape: (4,) Dtype: uint32_t
Node: 4, GetActionSpace:  DiscreteSpace N: 3
Simulation process id: 45690 (parent (waf shell) id: 45647)
Waiting for Python process to connect on port: tcp://localhost:5853
Please start proper Python Gym Agent
WARNING:tensorflow:SavedModel saved prior to TF 2.5 detected when loading Keras model. Please ensure that you are saving the model with model.save() or tf.keras.models.save_model(), *NOT* tf.saved_model.save(). To confirm, there should be a file named "keras_metadata.pb" in the SavedModel directory.
Node: 5, GetObservationSpace:  BoxSpace Low: 0 High: 100000 Shape: (3,) Dtype: uint32_t
Node: 5, GetActionSpace:  DiscreteSpace N: 2
Simulation process id: 45690 (parent (waf shell) id: 45647)
Waiting for Python process to connect on port: tcp://localhost:5854
Please start proper Python Gym Agent
WARNING:tensorflow:SavedModel saved prior to TF 2.5 detected when loading Keras model. Please ensure that you are saving the model with model.save() or tf.keras.models.save_model(), *NOT* tf.saved_model.save(). To confirm, there should be a file named "keras_metadata.pb" in the SavedModel directory.
Node: 6, GetObservationSpace:  BoxSpace Low: 0 High: 100000 Shape: (3,) Dtype: uint32_t
Node: 6, GetActionSpace:  DiscreteSpace N: 2
Simulation process id: 45690 (parent (waf shell) id: 45647)
Waiting for Python process to connect on port: tcp://localhost:5855
Please start proper Python Gym Agent
WARNING:tensorflow:SavedModel saved prior to TF 2.5 detected when loading Keras model. Please ensure that you are saving the model with model.save() or tf.keras.models.save_model(), *NOT* tf.saved_model.save(). To confirm, there should be a file named "keras_metadata.pb" in the SavedModel directory.
Node: 7, GetObservationSpace:  BoxSpace Low: 0 High: 100000 Shape: (3,) Dtype: uint32_t
Node: 7, GetActionSpace:  DiscreteSpace N: 2
Simulation process id: 45690 (parent (waf shell) id: 45647)
Waiting for Python process to connect on port: tcp://localhost:5856
Please start proper Python Gym Agent
WARNING:tensorflow:SavedModel saved prior to TF 2.5 detected when loading Keras model. Please ensure that you are saving the model with model.save() or tf.keras.models.save_model(), *NOT* tf.saved_model.save(). To confirm, there should be a file named "keras_metadata.pb" in the SavedModel directory.
Node: 8, GetObservationSpace:  BoxSpace Low: 0 High: 100000 Shape: (4,) Dtype: uint32_t
Node: 8, GetActionSpace:  DiscreteSpace N: 3
Simulation process id: 45690 (parent (waf shell) id: 45647)
Waiting for Python process to connect on port: tcp://localhost:5857
Please start proper Python Gym Agent
WARNING:tensorflow:SavedModel saved prior to TF 2.5 detected when loading Keras model. Please ensure that you are saving the model with model.save() or tf.keras.models.save_model(), *NOT* tf.saved_model.save(). To confirm, there should be a file named "keras_metadata.pb" in the SavedModel directory.
Node: 9, GetObservationSpace:  BoxSpace Low: 0 High: 100000 Shape: (4,) Dtype: uint32_t
Node: 9, GetActionSpace:  DiscreteSpace N: 3
Simulation process id: 45690 (parent (waf shell) id: 45647)
Waiting for Python process to connect on port: tcp://localhost:5858
Please start proper Python Gym Agent
WARNING:tensorflow:SavedModel saved prior to TF 2.5 detected when loading Keras model. Please ensure that you are saving the model with model.save() or tf.keras.models.save_model(), *NOT* tf.saved_model.save(). To confirm, there should be a file named "keras_metadata.pb" in the SavedModel directory.
Node: 10, GetObservationSpace:  BoxSpace Low: 0 High: 100000 Shape: (3,) Dtype: uint32_t
Node: 10, GetActionSpace:  DiscreteSpace N: 2
Simulation process id: 45690 (parent (waf shell) id: 45647)
Waiting for Python process to connect on port: tcp://localhost:5859
Please start proper Python Gym Agent
WARNING:tensorflow:SavedModel saved prior to TF 2.5 detected when loading Keras model. Please ensure that you are saving the model with model.save() or tf.keras.models.save_model(), *NOT* tf.saved_model.save(). To confirm, there should be a file named "keras_metadata.pb" in the SavedModel directory.
Simulation stop
Sent Packets: 0x55c014202b20
Wait for stop message
Wait for stop message
Wait for stop message
Wait for stop message
Wait for stop message
Wait for stop message
Wait for stop message
Wait for stop message
Wait for stop message
Wait for stop message
Wait for stop message
WARNING:tensorflow:Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.
WARNING:tensorflow:Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.
WARNING:tensorflow:Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.
WARNING:tensorflow:Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.
WARNING:tensorflow:Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.
WARNING:tensorflow:Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.
WARNING:tensorflow:Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.
WARNING:tensorflow:Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.
WARNING:tensorflow:Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.
WARNING:tensorflow:Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.
WARNING:tensorflow:Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.
/home/tdasilva/PRISMA-master/prisma/scripts/run_on_nef.sh: line 47: 45107 Killed                  singularity exec --nv prisma_latest.sif python3 main.py --seed=$2 --simTime=60 --basePort=$(((4444+$2)+(1000*$3)+($res0*15)+($6*20)+($8*1000))) --train=1 --agent_type=$4 --session_name="train_obs_in_bytes_fixed_$9_real_delay_$4_$5_$6_ts_0_01_seed_$2_traff_mat_$3_rb_size_$7_batch_512_lr_1e-3_gamma_1_final_eps_0_01_load_40_sync_$1_loss_x11_sp_init" --signaling_type=$5 --logs_parent_folder=examples/$9/ --traffic_matrix_root_path=examples/$9/traffic_matrices/ --traffic_matrix_index=$3 --adjacency_matrix_path=examples/$9/adjacency_matrix.txt --node_coordinates_path=examples/$9/node_coordinates.txt --training_step=0.01 --batch_size=512 --lr=0.001 --exploration_final_eps=0.01 --exploration_initial_eps=1.0 --iterationNum=3000 --gamma=1.0 --training_trigger_type="time" --save_models=1 --start_tensorboard=0 --replay_buffer_max_size=$7 --link_delay="1ms" --load_factor=0.4 --sync_step=$1 --max_out_buffer_size=16260 --sync_ratio=0.2 --signalingSim=$6 --load_path=examples/$9/$4_sp_init
